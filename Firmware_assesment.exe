const int sensorPin = A0;   // LM35 temperature sensor pin
const int ledPin = 13;      // Onboard LED pin

float temperature = 0;      // Variable to store temperature value

void setup() {
  pinMode(sensorPin, INPUT); // Set sensor pin as input
  pinMode(ledPin, OUTPUT);   // Set LED pin as output
}

void loop() {
  temperature = getTemperature();  // Read temperature from sensor
  
  if (temperature < 30) {
    blinkLED(250);  // Blink LED every 250 milliseconds
  } else {
    blinkLED(500);  // Blink LED every 500 milliseconds
  }
}

float getTemperature() {
  int sensorValue = analogRead(sensorPin);  // Read analog value from sensor
  float voltage = sensorValue * (5.0 / 1023.0);  // Convert analog value to voltage
  float tempC = voltage * 100.0;  // Convert voltage to temperature in Celsius
  return tempC;
}

void blinkLED(int interval) {
  static unsigned long previousMillis = 0;
  unsigned long currentMillis = millis(); // Current time

  if (currentMillis - previousMillis >= interval) {
    digitalWrite(ledPin, !digitalRead(ledPin)); // Toggle LED state
    previousMillis = currentMillis; // Save the last time the LED was toggled
  }
}
